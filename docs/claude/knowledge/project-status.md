# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ³ã‚µãƒãƒªãƒ¼ (2025-2-25)

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚§ãƒ¼ã‚ºã¨é€²æ—
### 1.1 å®Œäº†ãƒ•ã‚§ãƒ¼ã‚º
- ãƒ•ã‚§ãƒ¼ã‚º1ï¼šåŸºç›¤æ§‹ç¯‰ï¼ˆå®Œäº†ï¼‰
  - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
    - ERå›³è¨­è¨ˆã¨ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã®ç¢ºå®š
    - ENUMã‚¿ã‚¤ãƒ—ã®å®šç¾©ã¨ç§»è¡Œ
    - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®è¨­å®š
    - æ›´æ–°æ—¥æ™‚ãƒˆãƒªã‚¬ãƒ¼ã®å®Ÿè£…
  - Dockerç’°å¢ƒæ§‹ç¯‰ï¼ˆRaspberryPiï¼‰
    - PostgreSQL 14.13ã®æ§‹ç¯‰
    - ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–è¨­å®šï¼ˆDockerãƒœãƒªãƒ¥ãƒ¼ãƒ ï¼‰
    - ã‚·ã‚¹ãƒ†ãƒ PostgreSQLã®ç„¡åŠ¹åŒ–å¯¾å¿œ
  - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
    - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã®ä½œæˆ
    - ENUMã‚¿ã‚¤ãƒ—ã®å®šç¾©ã¨ç§»è¡Œ
    - ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã®ä½œæˆ
  - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥
    - ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ä½œæˆ
    - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥
    - å·¥æ•°è¨˜éŒ²ã®æŠ•å…¥
    - çŠ¶æ…‹å±¥æ­´ã®æŠ•å…¥å®Œäº†

- ãƒ•ã‚§ãƒ¼ã‚º2ï¼šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…ï¼ˆãƒªãƒã‚¸ãƒˆãƒªå±¤å®Œäº†ï¼‰
  - ãƒªãƒã‚¸ãƒˆãƒªå±¤ã®å®Ÿè£…
    - ãƒ™ãƒ¼ã‚¹ãƒªãƒã‚¸ãƒˆãƒªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
      - åŸºæœ¬çš„ãªCRUDæ“ä½œã‚’å®šç¾©
      - ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã‚’ä½¿ç”¨ã—ãŸå‹å®‰å…¨ãªè¨­è¨ˆ
    - TestSuiteãƒªãƒã‚¸ãƒˆãƒªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
      - ãƒ™ãƒ¼ã‚¹ãƒªãƒã‚¸ãƒˆãƒªã®ç¶™æ‰¿
      - ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆå›ºæœ‰ã®æ“ä½œã‚’è¿½åŠ 
    - PostgreSQLãƒªãƒã‚¸ãƒˆãƒªã®å®Ÿè£…
      - CRUDæ“ä½œã®å®Ÿè£…
      - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é–¢é€£æ“ä½œã®å®Ÿè£…
  - ãƒ†ã‚¹ãƒˆç’°å¢ƒã®æ•´å‚™
    - VSCode Remote Developmentç’°å¢ƒã®æ§‹ç¯‰
    - ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®å®Ÿè£…
      - å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆSuiteStatusï¼‰ã®ãƒ†ã‚¹ãƒˆå®Ÿè£…
      - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆTestSuiteï¼‰ã®ãƒ†ã‚¹ãƒˆå®Ÿè£…
      - PostgreSQLãƒªãƒã‚¸ãƒˆãƒªã®çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…
    - Dockerç’°å¢ƒã®æ•´å‚™
      - ãƒ†ã‚¹ãƒˆç”¨DBã‚³ãƒ³ãƒ†ãƒŠã®æ§‹ç¯‰ï¼ˆãƒãƒ¼ãƒˆ5433ï¼‰
      - ãƒ†ã‚¹ãƒˆç”¨ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç’°å¢ƒã®æ•´å‚™
    - CI/CDåŸºç›¤ã®æ•´å‚™
      - Makefileã®åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰æ•´å‚™
      - çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œç’°å¢ƒã®æ•´å‚™

### 1.3 æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚ºäºˆå®š
- ãƒ•ã‚§ãƒ¼ã‚º2ã®ç¶šãï¼šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤å®Ÿè£…
  1. Protocol Bufferså°å…¥ãƒ•ã‚§ãƒ¼ã‚ºã®å®Œäº†ï¼ˆå„ªå…ˆåº¦ï¼šé«˜ï¼‰
     - âœ… protoãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
     - âœ… gRPCã‚µãƒ¼ãƒ“ã‚¹ã®åŸºæœ¬å®Ÿè£…
     - âœ… ListTestSuitesåŸºæœ¬æ©Ÿèƒ½ã®å®Ÿè£…å®Œäº†
     - âœ… WatchTestSuiteæ©Ÿèƒ½ã®å®Ÿè£…
     - å®Ÿè£…å„ªå…ˆé †ä½ï¼š
       1. âœ… åŸºæœ¬çš„ãªRPCå®šç¾©
       2. âœ… ListTestSuitesã®å®Ÿè£…
       3. âœ… ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æ©Ÿèƒ½
       4. [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ¨™æº–åŒ–
  
  2. gRPCã‚µãƒ¼ãƒãƒ¼ã®æ©Ÿèƒ½æ‹¡å¼µï¼ˆå„ªå…ˆåº¦ï¼šé«˜ï¼‰
      - âœ… ãƒªã‚¹ãƒˆæ©Ÿèƒ½ã®å®Œå…¨å®Ÿè£…
      - âœ… ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æ©Ÿèƒ½ã®å®Ÿè£…
      - âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–
      - [ ] ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®æ‹¡å……

  3. GraphQLå°å…¥ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå„ªå…ˆåº¦ï¼šä¸­ï¼‰
     - âœ… ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
     - âœ… åŸºæœ¬ãƒªã‚¾ãƒ«ãƒãƒ¼ã®å®Ÿè£…
     - âœ… GraphQL Playgroundã®å‹•ä½œç¢ºèª
     - âœ… TestSuiteã®groupsãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒªã‚¾ãƒ«ãƒãƒ¼ã®å®Ÿè£…
     - âœ… TestGroupã®casesãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒªã‚¾ãƒ«ãƒãƒ¼ã®å®Ÿè£…
     - âœ… DataLoaderå®Ÿè£…ã«ã‚ˆã‚‹N+1å•é¡Œå¯¾ç­–
     - [ ] ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã®æ¤œè¨

### 1.4 å­¦ç¿’ç›®æ¨™
   - âœ… Protocol Buffersã«ã‚ˆã‚‹å‹å®‰å…¨ãªAPIè¨­è¨ˆï¼ˆå„ªå…ˆåº¦ï¼šé«˜ï¼‰
     - âœ… protoãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­è¨ˆæ‰‹æ³•
     - âœ… gRPCã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
     - âœ… ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã®å®Ÿè£…æ–¹æ³•
   - gRPCã‚µãƒ¼ãƒ“ã‚¹ã®å®Ÿè£…ã¨é‹ç”¨ï¼ˆå„ªå…ˆåº¦ï¼šé«˜ï¼‰
     - âœ… ã‚µãƒ¼ãƒãƒ¼å®Ÿè£…
     - [ ] ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…
     - âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
     - [ ] ãƒ†ã‚¹ãƒˆæ‰‹æ³•
   - GraphQLã«ã‚ˆã‚‹æŸ”è»ŸãªAPIè¨­è¨ˆï¼ˆå„ªå…ˆåº¦ï¼šä¸­ï¼‰
     - âœ… ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ
     - âœ… åŸºæœ¬ãƒªã‚¾ãƒ«ãƒãƒ¼å®Ÿè£…
     - âœ… N+1å•é¡Œå¯¾ç­–
   - ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å®Ÿè·µï¼ˆå„ªå…ˆåº¦ï¼šä¸­ï¼‰
     - ã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡
     - ã‚¨ãƒ©ãƒ¼å‡¦ç†æˆ¦ç•¥
     - ç›£è¦–ã¨é‹ç”¨

### 1.5 å®Ÿè£…ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³
   1. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ”¹å–„ï¼ˆå„ªå…ˆåº¦ï¼šé«˜ï¼‰
      - âœ… ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼ã¸ã®å¤‰æ›å‡¦ç†ã®å®Ÿè£…
      - âœ… ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ”¹å–„
      - âœ… ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¿½åŠ 
   
   2. ãƒªãƒã‚¸ãƒˆãƒªå±¤ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ•´å‚™ï¼ˆå„ªå…ˆåº¦ï¼šé«˜ï¼‰
      - âœ… DBã‚¨ãƒ©ãƒ¼ã‹ã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼ã¸ã®å¤‰æ›å‡¦ç†ã®å®Ÿè£…
      - âœ… PostgreSQLã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ï¼ˆä¸€æ„æ€§åˆ¶ç´„é•åã€å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„é•åãªã©ï¼‰ã®å®šæ•°åŒ–
      - âœ… ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®å…¨ãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ”¹å–„
      - âœ… ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é–¢é€£ã‚¨ãƒ©ãƒ¼ã®å‡¦ç†æ”¹å–„
      - âœ… ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¿½åŠ 
   
   3. REST APIã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ›´æ–°ï¼ˆå„ªå…ˆåº¦ï¼šä¸­ï¼‰
      - âœ… ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼ã‹ã‚‰APIã‚¨ãƒ©ãƒ¼ã¸ã®å¤‰æ›é–¢æ•°ã®å®Ÿè£…
      - âœ… å…¨ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¸ã®é©ç”¨
      - âœ… ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ¨™æº–åŒ–

   4. GraphQLå°å…¥ãƒ•ã‚§ãƒ¼ã‚ºã®åŸºç›¤æ•´å‚™ï¼ˆå„ªå…ˆåº¦ï¼šä¸­ï¼‰
      - âœ… GraphQLã‚¹ã‚­ãƒ¼ãƒã®è¨­è¨ˆã¨å®šç¾©
      - âœ… åŸºæœ¬çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®æ•´å‚™
      - âœ… gqlgenã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ç”Ÿæˆç’°å¢ƒã®æ§‹ç¯‰
      - âœ… åŸºæœ¬ã‚¯ã‚¨ãƒªãƒ»ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚¾ãƒ«ãƒãƒ¼ã®å®Ÿè£…
      - [ ] TestSuiteã®groupsãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒªã‚¾ãƒ«ãƒãƒ¼ã®å®Ÿè£…
      - [ ] TestGroupã®casesãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒªã‚¾ãƒ«ãƒãƒ¼ã®å®Ÿè£…
      - [ ] DataLoaderå®Ÿè£…ã«ã‚ˆã‚‹N+1å•é¡Œå¯¾ç­–

### ç›´è¿‘ã®å®Ÿè£…è¨ˆç”»ï¼ˆ2025-03-27æ›´æ–°ï¼‰
1. âœ… IDã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹åŒ–ã¨ãƒ¢ãƒƒã‚¯å¯¾å¿œ
   - âœ… TestSuiteIDGenerator, TestGroupIDGenerator, TestCaseIDGeneratorã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
   - âœ… TestSuiteã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ†ã‚¹ãƒˆã®ä¿®æ­£
   - âœ… TestGroup/TestCaseã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚¿ãƒ¼ã®ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ä½œæˆ

2. âœ… ãƒ†ã‚¹ãƒˆç’°å¢ƒã®å®‰å®šåŒ–
   - âœ… TestMainé–¢æ•°ã®æ”¹å–„ï¼ˆçµ¶å¯¾ãƒ‘ã‚¹ã®ä½¿ç”¨ã€ã‚¨ãƒ©ãƒ¼å‡¦ç†å¼·åŒ–ï¼‰
   - âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã®æ”¹å–„
   - âœ… ãƒ†ã‚¹ãƒˆç’°å¢ƒIDã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã®å®Ÿè£…

3. âœ… GraphQLå°å…¥ãƒ•ã‚§ãƒ¼ã‚ºã®ç¶šã
   - âœ… åŸºæœ¬çš„ãªGraphQLã‚µãƒ¼ãƒãƒ¼ã®å‹•ä½œç¢ºèª
   - âœ… é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ•´å‚™
   - âœ… TestSuiteã®groupsãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒªã‚¾ãƒ«ãƒãƒ¼ã®å®Ÿè£…
   - âœ… TestGroupã®casesãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒªã‚¾ãƒ«ãƒãƒ¼ã®å®Ÿè£…
   - âœ… ãƒªã‚¾ãƒ«ãƒãƒ¼å…¨ä½“ã®NULLãƒã‚§ãƒƒã‚¯å¯¾å¿œ
   - âœ… DataLoaderå®Ÿè£…ã«ã‚ˆã‚‹N+1å•é¡Œå¯¾ç­–
   - âœ… GraphQLã‚µãƒ¼ãƒãƒ¼è¨­å®šã®æœ€æ–°åŒ–ï¼ˆéæ¨å¥¨APIå¯¾å¿œï¼‰

4. æ–°ã—ã„å„ªå…ˆå®Ÿè£…è¨ˆç”»
   - [ ] GraphQLã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã®å®Ÿè£…
   - [ ] èªè¨¼ãƒ»èªå¯ã®çµ±åˆ
   - [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é€£æºã®ãŸã‚ã®APIæ”¹å–„
   - [ ] ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ¤œè¨

5. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã®æ”¹å–„
   - âœ… é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ã®ä½œæˆ
   - âœ… ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã®è¦‹ç›´ã—ã¨æ¨™æº–åŒ–
   - âœ… ã‚³ãƒŸãƒƒãƒˆæ–¹é‡ã®ç¢ºç«‹
   - âœ… ä½œæ¥­ãƒ•ãƒ­ãƒ¼ã®æ˜ç¢ºåŒ–
   - âœ… Claudeãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®æ•´ç†

6. ä¿ç•™ä¸­ã®æ¤œè¨äº‹é …
   - ã‚ˆã‚Šè©³ç´°ãªé€²æ—ç‡è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…ï¼ˆãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®çŠ¶æ…‹ã‚’è€ƒæ…®ï¼‰
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å›½éš›åŒ–å¯¾å¿œ
   - APIå¿œç­”ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æˆ¦ç•¥
   - pkg/errorsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

## 2. ç’°å¢ƒçŠ¶æ³
### 2.1 é–‹ç™ºç’°å¢ƒ
- RaspberryPiç’°å¢ƒ
  - Docker 27.3.1
  - Docker Compose v2.29.7
  - PostgreSQL 14.13ï¼ˆã‚³ãƒ³ãƒ†ãƒŠï¼‰
  - Protocol Buffers compilerï¼ˆprotocï¼‰v3.21.12-3
- é–‹ç™ºãƒ„ãƒ¼ãƒ«
  - DBeaver 24.2.4ï¼ˆæ¥ç¶šè¨­å®šæ¸ˆã¿ï¼‰
  - DBæ¥ç¶šæƒ…å ±ï¼š192.168.10.5:5432
- VSCode Remote Development
  - SSHçµŒç”±ã§ã®ãƒªãƒ¢ãƒ¼ãƒˆé–‹ç™ºç’°å¢ƒ
  - Goè¨€èªé–‹ç™ºç’°å¢ƒã®è¨­å®š
  - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç’°å¢ƒã®æ§‹ç¯‰
  - Protocol Buffers/gRPCé–‹ç™ºç’°å¢ƒã®è¨­å®š

### 2.1.2 å°å…¥æ¸ˆã¿é–‹ç™ºãƒ„ãƒ¼ãƒ«
- Protocol Buffersé–¢é€£
  - âœ… Protocol Buffers compiler (protoc) v3.21.12
  - âœ… Goè¨€èªç”¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆprotoc-gen-go, protoc-gen-go-grpcï¼‰
  - âœ… Makefileã‚³ãƒãƒ³ãƒ‰ã®è¨­å®š

### 2.1.3 è¿½åŠ äºˆå®šã®é–‹ç™ºãƒ„ãƒ¼ãƒ«
- Protocol Buffersé–¢é€£ï¼ˆå„ªå…ˆå°å…¥ï¼‰
  - âœ… Protocol Buffers compiler (protoc) v3.17.3ä»¥ä¸Š
  - âœ… gRPC-Go v1.56.1
  - âœ… protoc-gen-go v1.28.1
  - âœ… protoc-gen-go-grpc v1.2.0
  - [ ] bufï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šã‚¹ã‚­ãƒ¼ãƒç®¡ç†ç”¨ï¼‰
- GraphQLé–¢é€£ï¼ˆæ¬¡ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
  - [ ] gqlgen v0.17.38
  - [ ] graphql-playgroundï¼ˆé–‹ç™ºç”¨UIãƒ„ãƒ¼ãƒ«ï¼‰
  - [ ] dataloadenï¼ˆN+1å¯¾ç­–ç”¨ï¼‰

### 2.2 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çŠ¶æ³
- ã‚¹ã‚­ãƒ¼ãƒæ§‹é€ 
  - ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ç¢ºå®šæ¸ˆã¿
    - test_suites
    - test_groups
    - test_cases
    - effort_records
    - status_history
  - ENUMå®šç¾©å®Œäº†
    - priority_enum: Critical, High, Medium, Low
    - suite_status_enum: æº–å‚™ä¸­, å®Ÿè¡Œä¸­, å®Œäº†, ä¸­æ–­
    - test_status_enum: ä½œæˆ, ãƒ†ã‚¹ãƒˆ, ä¿®æ­£, ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡, ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸­, å®Œäº†, å†ãƒ†ã‚¹ãƒˆ
- ãƒ‡ãƒ¼ã‚¿çŠ¶æ³
  - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥å®Œäº†
    - ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆï¼šTS001-202411ï¼ˆå•†å“ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼‰
    - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼šåŸºæœ¬æ©Ÿèƒ½ã®æ¤œè¨¼ãƒ‡ãƒ¼ã‚¿
    - å·¥æ•°ãƒ»çŠ¶æ…‹å±¥æ­´ï¼šåˆæœŸã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿


### 2.3 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®æ›´æ–°çŠ¶æ³
- /api
- /proto          # Protocol Bufferså®šç¾© âœ…
  /testsuite
    /v1
      - test_suite.proto âœ…
      - test_suite_service.proto âœ…
      - test_suite.pb.go âœ…
      - test_suite_service_grpc.pb.go âœ…
- /graphql        # GraphQLã‚¹ã‚­ãƒ¼ãƒï¼ˆäºˆå®šï¼‰
- /internal
  /domain
    /repository
      - base_repository.go âœ…
      - test_suite_repository.go âœ…
      - test_group_repository.go âœ…
      - test_case_repository.go âœ…
      - id_generator.go âœ… (IDã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¿½åŠ )
  /usecase/interactor
  - âœ… test_suite_interactor_test.go (IDã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼å¯¾å¿œä¿®æ­£)
  - âœ… test_group_interactor_test.go (æ–°è¦ä½œæˆ)
  - âœ… test_case_interactor_test.go (æ–°è¦ä½œæˆ)
  /interface
    /grpc         # gRPCã‚µãƒ¼ãƒãƒ¼å®Ÿè£… âœ…
      /handler
        - test_suite_server.go âœ…
      /server
        - server.go âœ…
    /graphql        # GraphQLå®Ÿè£… âœ…
      /schema       # GraphQLã‚¹ã‚­ãƒ¼ãƒå®šç¾© âœ…
      /resolver     # ãƒªã‚¾ãƒ«ãƒãƒ¼å®Ÿè£… âœ…
        - resolver.go âœ…
        - schema.resolvers.go âœ… (TestSuiteã¨TestGroupã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚¾ãƒ«ãƒãƒ¼å®Ÿè£…æ¸ˆã¿)
      /model        # GraphQLãƒ¢ãƒ‡ãƒ«å®šç¾© âœ…
      /dataloader   # DataLoaderå®Ÿè£…ï¼ˆäºˆå®šï¼‰
    /api
      /handler
        - test_suite_handler.go âœ…
        - test_suite_handler_test.go âœ…
- /cmd
    /api           # REST APIã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
    /grpc          # gRPCã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ âœ…
      - main.go âœ…
    /graphql          # GraphQLã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ âœ…
    - main.go âœ…
- /pkg
  /errors           # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° âœ…
    - api_error.go  # æ—¢å­˜ã®REST APIã‚¨ãƒ©ãƒ¼ âœ…
    - domain_error.go # ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ âœ…
    - validation_error.go # æ¤œè¨¼ã‚¨ãƒ©ãƒ¼ âœ…
    - not_found_error.go # æœªæ¤œå‡ºã‚¨ãƒ©ãƒ¼ âœ…
    - conflict_error.go # ç«¶åˆã‚¨ãƒ©ãƒ¼ âœ…
    - permission_error.go # æ¨©é™ã‚¨ãƒ©ãƒ¼ âœ…
    - system_error.go # ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ âœ…
    - grpc_error.go # gRPCã‚¨ãƒ©ãƒ¼å¤‰æ› âœ…
    - domain_error_test.go # ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ âœ…
    - grpc_error_test.go # gRPCã‚¨ãƒ©ãƒ¼å¤‰æ›ãƒ†ã‚¹ãƒˆ âœ…
- test
  /integration       # çµ±åˆãƒ†ã‚¹ãƒˆ
    /postgres
      - docker-compose.test.yml âœ…


### 2.4 ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ ï¼ˆ2025-03-17æ›´æ–°ï¼‰

ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒçŠ¶æ³ï¼š
```bash
fuji0130@raspberrypi:~/workspace/go-DDD-CA/go-ddd-ca $ git branch
  DBdesign
  domain-base
* feature/grpc-implementation
  main
```

- å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚ºã”ã¨ã®ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒ
  1. Protocol Bufferså®Ÿè£…ï¼ˆfeature/grpc-implementationï¼‰
     - âœ… feat/proto-definitions
     - âœ… feat/grpc-service
     - [ ] feat/grpc-client
  
  2. GraphQLå®Ÿè£…ï¼ˆfeature/graphql-apiï¼‰
     - âœ… feat/schema-design
     - ğŸ”„ feat/resolvers
     - [ ] feat/dataloader
     - [ ] feat/subscriptions

- ãƒ–ãƒ©ãƒ³ãƒé‹ç”¨ãƒ«ãƒ¼ãƒ«
  - å„ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã¯mainã‹ã‚‰ãƒ–ãƒ©ãƒ³ãƒã‚¢ã‚¦ãƒˆ
  - å€‹åˆ¥æ©Ÿèƒ½å®Ÿè£…ã¯feat/ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’ä½¿ç”¨
  - ãƒãƒ¼ã‚¸ã¯ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä»‹ã—ã¦å®Ÿæ–½
- èª²é¡Œ:

  - ãƒ–ãƒ©ãƒ³ãƒã®ç”¨é€”ã¨å‘½åè¦å‰‡ãŒæ˜ç¢ºã§ãªã„
  - ä½œæ¥­ä¸­ã®ãƒ–ãƒ©ãƒ³ãƒã§ã‚³ãƒŸãƒƒãƒˆãŒé©åˆ‡ã«è¡Œã‚ã‚Œã¦ã„ãªã„
  - feature/grpc-implementationãƒ–ãƒ©ãƒ³ãƒã§GraphQLé–¢é€£ã®å®Ÿè£…ãŒè¡Œã‚ã‚Œã¦ã„ã‚‹

- æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:

  - ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã®å†æ¤œè¨ï¼ˆGitFlowã€GitHub Flowãªã©ã®æ¤œè¨ï¼‰
  - æ©Ÿèƒ½ã”ã¨ã®é©åˆ‡ãªãƒ–ãƒ©ãƒ³ãƒä½œæˆãƒ«ãƒ¼ãƒ«ã®ç­–å®š
  - ã‚³ãƒŸãƒƒãƒˆæ–¹é‡ï¼ˆé »åº¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ›¸ãæ–¹ï¼‰ã®ç¢ºç«‹
  - ãƒãƒ¼ã‚¸æˆ¦ç•¥ã®æ˜ç¢ºåŒ–

  - ã“ã®èª²é¡Œã¯æ¬¡ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§è©³ç´°ã‚’è­°è«–ã—ã€claude projectã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã«æ›¸ã‘ã‚‹ã‚ˆã†ã«æ”¹å–„ç­–ã‚’æ•´ç†ã™ã‚‹ä½œæ¥­ã‚’å®Ÿæ–½ã™ã‚‹äºˆå®šã§ã™ã€‚

### 2.5 å®Ÿè£…çŠ¶æ³ï¼ˆ2025-02-25ç¾åœ¨ï¼‰
- internal/usecase/dto
 - âœ… TestSuiteCreateDTO
 - âœ… TestSuiteResponseDTO
 - âœ… TestSuiteUpdateDTO
 - âœ… TestSuiteStatusUpdateDTO
 - âœ… TestSuiteQueryParamDTO
 - âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«è¨­è¨ˆ
- internal/usecase/interactor
 - âœ… CreateTestSuiteãƒ¡ã‚½ãƒƒãƒ‰
 - âœ… GetTestSuiteãƒ¡ã‚½ãƒƒãƒ‰
 - âœ… ListTestSuitesãƒ¡ã‚½ãƒƒãƒ‰
 - âœ… UpdateTestSuiteãƒ¡ã‚½ãƒƒãƒ‰
 - âœ… UpdateTestSuiteStatusãƒ¡ã‚½ãƒƒãƒ‰
 - âœ… ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚¿ãƒ¼ã®ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
- internal/interface/api/handler
 - TestSuiteHandler
   - âœ… å…¨ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…å®Œäº†
   - âœ… ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å®Ÿè£…å®Œäº†
   - âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…å®Œäº†
   - âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…å®Œäº†
 - pkg/errors
  - âœ… ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…
  - âœ… å„ç¨®ã‚¨ãƒ©ãƒ¼å‹ã®å®Ÿè£…
  - âœ… APIã‚¨ãƒ©ãƒ¼å¤‰æ›é–¢æ•°ã®å®Ÿè£…
  - âœ… gRPCã‚¨ãƒ©ãƒ¼å¤‰æ›é–¢æ•°ã®å®Ÿè£…
  - âœ… ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®å®Ÿè£…

- Protocol Buffers/gRPCå®Ÿè£…
  - âœ… proto/testsuite/v1/test_suite.proto
  - âœ… proto/testsuite/v1/test_suite_service.proto
  - âœ… internal/interface/grpc/handler/test_suite_server.go
    - âœ… CreateTestSuite
    - âœ… GetTestSuite
    - âœ… UpdateTestSuite
    - âœ… UpdateTestSuiteStatus
    - âœ… ListTestSuites
    - âœ… WatchTestSuite (ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å®Ÿè£…)
  - âœ… internal/interface/grpc/server/server.go
  - âœ… cmd/grpc/main.go

- GraphQLå®Ÿè£…
  - âœ… internal/interface/graphql/schema/schema.graphqls
  - âœ… internal/interface/graphql/resolver/schema.resolvers.go
    - âœ… CreateTestSuite
    - âœ… UpdateTestSuite
    - âœ… UpdateTestSuiteStatus
    - âœ… TestSuite (å˜ä¸€å–å¾—)
    - âœ… TestSuites (ä¸€è¦§å–å¾—ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ)
    - âœ… TestSuiteã®groupsãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒªã‚¾ãƒ«ãƒãƒ¼
    - âœ… TestGroupã®casesãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒªã‚¾ãƒ«ãƒãƒ¼
    - âŒ TestSuiteStatusChanged (ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã®ã¿)
  - âœ… internal/interface/graphql/integration_test.go (æ”¹å–„æ¸ˆã¿)
  - âœ… cmd/graphql/main.go

- GraphQLãƒ†ã‚¹ãƒˆç’°å¢ƒã®æ”¹å–„
  - âœ… GraphQLçµ±åˆãƒ†ã‚¹ãƒˆç”¨TestMainé–¢æ•°ã®æ”¹å–„
    - âœ… çµ¶å¯¾ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ãŸãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿
    - âœ… è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¿½åŠ 
    - âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèªæ©Ÿèƒ½ã®è¿½åŠ 
  - âœ… GraphQLãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç®¡ç†ã®æ”¹å–„
    - âœ… å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã‚’ä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ–ã™ã‚‹æ–¹æ³•ã®å®Ÿè£…
    - âœ… IDãƒªã‚¹ãƒˆã®ã‚¯ãƒªã‚¢æ©Ÿèƒ½
  - âœ… GraphQLãƒ†ã‚¹ãƒˆç”¨IDã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã®å®Ÿè£…
    - âœ… TestEnvironmentSuiteIDGenerator
    - âœ… TestEnvironmentGroupIDGenerator
    - âœ… TestEnvironmentCaseIDGenerator

## 3. ä¿ç•™ã‚¿ã‚¹ã‚¯
### 3.1 ã‚¤ãƒ³ãƒ•ãƒ©é–¢é€£
- Protocol Buffersé–¢é€£ã®ç’°å¢ƒæ•´å‚™
  - [x] Protocol Buffersã‚³ãƒ³ãƒ‘ã‚¤ãƒ©å°å…¥
  - [x] Goè¨€èªç”¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  - [ ] gRPCã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã®æ¤œè¨
  - [ ] è² è·ãƒ†ã‚¹ãƒˆç’°å¢ƒã®æ§‹ç¯‰
  - [ ] ç›£è¦–è¨­å®šã®æ›´æ–°
- AWSç’°å¢ƒã¸ã®ç§»è¡Œè¨ˆç”»
  - RDSã¸ã®ç§»è¡Œè¨ˆç”»ï¼ˆå¤‰æ›´ãªã—ï¼‰
  - ã‚³ãƒ³ãƒ†ãƒŠç’°å¢ƒã®æ§‹ç¯‰è¨ˆç”»ï¼ˆå¤‰æ›´ãªã—ï¼‰
- ç›£è¦–ãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹è¨ˆç”»
  - gRPCã‚µãƒ¼ãƒ“ã‚¹ã®ç›£è¦–è¿½åŠ 
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®è¿½åŠ 
  - ã‚µãƒ¼ãƒ“ã‚¹å˜ä½ã®ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š

### 3.2 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–¢é€£
- Protocol Bufferså®Ÿè£…ã«å‘ã‘ãŸæ¤œè¨
  - âœ… ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å®šç¾©ã®åŸºæœ¬å®Ÿè£…
  - âœ… ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æˆ¦ç•¥ã®åŸºæœ¬å®Ÿè£…
  - âœ… è¨­è¨ˆæ–¹é‡ã®æ–‡æ›¸åŒ–ã¨æ¨™æº–åŒ–
  - âœ… å¾Œæ–¹äº’æ›æ€§ã®ç¶­æŒæ–¹é‡ã®æ˜ç¢ºåŒ–

- APIé–“ã®æ•´åˆæ€§ç¶­æŒ
  - âœ… gRPCã®åŸºæœ¬å®Ÿè£…å®Œäº†
  - âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±ä¸€
  - [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã®æ¨™æº–åŒ–

- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ã®æ–¹é‡
  - âœ… Protocol Buffersã®è¨­è¨ˆæ–‡æ›¸ä½œæˆ
  - âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ–¹é‡ã®æ–‡æ›¸åŒ–
  - [ ] APIä»•æ§˜æ›¸ã®çµ±åˆç®¡ç†æ–¹é‡ã®ç­–å®š


## 4. å‚è€ƒæƒ…å ±

### 4.1 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ 
```mermaid
erDiagram
    test_suites ||--o{ test_groups : "contains"
    test_groups ||--o{ test_cases : "contains"
    test_cases ||--o{ effort_records : "tracks"
    test_cases ||--o{ status_history : "logs"

    test_suites {
        varchar(50) id PK
        varchar(100) name
        text description
        date estimated_start_date
        date estimated_end_date
        boolean require_effort_comment
        timestamp created_at
        timestamp updated_at
        suite_status_enum status
    }

    test_groups {
        varchar(50) id PK
        varchar(50) suite_id FK
        varchar(100) name
        text description
        integer display_order
        timestamp created_at
        timestamp updated_at
        suite_status_enum status
    }

    test_cases {
        varchar(50) id PK
        varchar(50) group_id FK
        varchar(200) title
        text description
        test_status_enum status
        priority_enum priority
        float planned_effort
        float actual_effort
        boolean is_delayed
        integer delay_days
        varchar(100) current_editor
        boolean is_locked
        timestamp created_at
        timestamp updated_at
    }

    effort_records {
        integer id PK
        varchar(50) test_case_id FK
        date record_date
        float effort_amount
        boolean is_additional
        text comment
        varchar(100) recorded_by
        timestamp created_at
    }

    status_history {
        integer id PK
        varchar(50) test_case_id FK
        test_status_enum old_status
        test_status_enum new_status
        timestamp changed_at
        varchar(100) changed_by
        text reason
    }
```

### 4.2 ENUMå®šç¾©
```mermaid
classDiagram
    class priority_enum {
        <<enumeration>>
        Critical
        High
        Medium
        Low
    }

    class suite_status_enum {
        <<enumeration>>
        æº–å‚™ä¸­
        å®Ÿè¡Œä¸­
        å®Œäº†
        ä¸­æ–­
    }

    class test_status_enum {
        <<enumeration>>
        ä½œæˆ
        ãƒ†ã‚¹ãƒˆ
        ä¿®æ­£
        ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡
        ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸­
        å®Œäº†
        å†ãƒ†ã‚¹ãƒˆ
    }
```

### 4.3 ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å®šç¾©
```
PrimaryKeys                    SecondaryIndexes
------------------            ------------------------------------------
effort_records_pkey(id)       idx_effort_records_date(record_date)
status_history_pkey(id)       idx_test_cases_priority(priority)
test_cases_pkey(id)          idx_test_cases_status(status)
test_groups_pkey(id)         idx_test_groups_order(display_order, suite_id)
test_suites_pkey(id)
```

### 4.4 gRPCé–‹ç™ºç’°å¢ƒ

```protobuf
// ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆå®šç¾©ä¾‹
syntax = "proto3";

package testsuite.v1;

import "google/protobuf/timestamp.proto";

message TestSuite {
  string id = 1;
  string name = 2;
  string description = 3;
  SuiteStatus status = 4;
  google.protobuf.Timestamp estimated_start_date = 5;
  google.protobuf.Timestamp estimated_end_date = 6;
  bool require_effort_comment = 7;
  float progress = 8;
  google.protobuf.Timestamp created_at = 9;
  google.protobuf.Timestamp updated_at = 10;
}

// ã‚¹ãƒ‹ãƒšãƒƒãƒˆ - å®Ÿéš›ã®å®šç¾©ã¯protoãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‚ç…§
```
# Protocol Buffers ã‚³ãƒãƒ³ãƒ‰
protoc --proto_path=. \
    --go_out=. --go_opt=paths=source_relative \
    --go-grpc_out=. --go-grpc_opt=paths=source_relative \
    proto/testsuite/v1/*.proto


## 4.2 é–‹ç™ºç’°å¢ƒæ§‹æˆ

### 4.2.1 Dockerç’°å¢ƒ
```yaml
services:
  postgres:
    image: postgres:14.13
    container_name: test_management_db
    environment:
      POSTGRES_USER: testuser
      POSTGRES_PASSWORD: testpass
      POSTGRES_DB: test_management
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - app_network

networks:
  app_network:
    driver: bridge

volumes:
  postgres_data:
```

### 4.2.2 ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ§‹æˆ
```
scripts/migrations/
â”œâ”€â”€ 000001_create_enums.up.sql
â”œâ”€â”€ 000001_create_enums.down.sql
â”œâ”€â”€ 000002_create_tables.up.sql
â”œâ”€â”€ 000002_create_tables.down.sql
â”œâ”€â”€ 000003_create_indexes.up.sql
â”œâ”€â”€ 000003_create_indexes.down.sql
â”œâ”€â”€ 000004_create_triggers.up.sql
â””â”€â”€ 000004_create_triggers.down.sql
```

### 4.2.3 é‹ç”¨ã‚³ãƒãƒ³ãƒ‰
```bash
# Dockeræ“ä½œ
docker compose up -d
docker compose down
docker compose down -v  # ãƒœãƒªãƒ¥ãƒ¼ãƒ å‰Šé™¤

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
migrate -path scripts/migrations -database "postgresql://testuser:testpass@localhost:5432/test_management?sslmode=disable" up
migrate -path scripts/migrations -database "postgresql://testuser:testpass@localhost:5432/test_management?sslmode=disable" down
```


### 5.1 IDä½“ç³»
- ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ: `TS{001-999}-{YYYYMM}`
- ãƒ†ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—: `TS{000}TG{01-99}-{YYYYMM}`
- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: `TS{000}TG{00}TC{001-999}-{YYYYMM}`

### 5.2 å„ç¨®åˆ¶ç´„
- effort_records: `check_positive_effort (effort_amount > 0)`
- æ›´æ–°æ—¥æ™‚è‡ªå‹•æ›´æ–°ãƒˆãƒªã‚¬ãƒ¼ï¼ˆtest_suites, test_groups, test_casesï¼‰
- å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ï¼ˆsuite_id, group_id, test_case_idï¼‰

### 5.3 ä½¿ç”¨ä¸­ã®ãƒ„ãƒ¼ãƒ«
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: PostgreSQL 14.13ï¼ˆDockerã‚³ãƒ³ãƒ†ãƒŠï¼‰
- ã‚³ãƒ³ãƒ†ãƒŠç’°å¢ƒ: Docker 27.3.1, Docker Compose v2.29.7
- é–‹ç™ºç’°å¢ƒ: RaspberryPi
- DBç®¡ç†ãƒ„ãƒ¼ãƒ«: DBeaver 24.2.4ï¼ˆæ¥ç¶šè¨­å®šæ¸ˆã¿ï¼‰